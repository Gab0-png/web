<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Gabriel Gomez - Portafolio Personal</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root{--bg:#0f172a;--card:#1e293b;--text:#e2e8f0;--muted:#94a3b8;--accent-1:#0ea5e9;--accent-2:#06b6d4;--accent-3:#0284c7;--radius:14px;--shadow:0 8px 30px rgba(14,165,233,.06),inset 0 1px 0 rgba(255,255,255,.02)}
        *{box-sizing:border-box}
        html,body{height:100%}
        body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:radial-gradient(1200px 600px at 10% 10%,rgba(14,165,233,.06),transparent 8%),radial-gradient(900px 500px at 90% 90%,rgba(6,182,212,.04),transparent 6%),var(--bg);color:var(--text);-webkit-font-smoothing:antialiasing;-moz-osx-font-smoothing:grayscale;line-height:1.4;padding:40px 20px}
        .container{max-width:1100px;margin:0 auto}

        header{display:flex;align-items:center;justify-content:space-between;gap:20px;margin-bottom:36px;flex-wrap:wrap}
        .brand{display:flex;gap:14px;align-items:center;text-decoration:none;color:var(--text)}
        .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent-1),var(--accent-3));display:inline-grid;place-items:center;color:#001827;font-weight:700;font-size:20px;box-shadow:0 6px 20px rgba(14,165,233,.12);flex-shrink:0}
        nav{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
        a.navlink{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:10px;font-weight:600;transition:all .18s ease}
        a.navlink:hover{color:var(--accent-1);transform:translateY(-2px)}

        .hero{display:grid;grid-template-columns:1fr 340px;gap:28px;align-items:start;margin-bottom:40px}
        .intro{background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);border-radius:var(--radius);padding:28px;box-shadow:var(--shadow);border:1px solid rgba(14,165,233,.06)}
        .intro h1{margin:0 0 8px 0;font-size:28px;letter-spacing:-.02em;color:var(--text)}
        .intro p.lead{margin:0 0 16px 0;color:var(--muted)}
        .skills{display:flex;gap:8px;flex-wrap:wrap}
        .chip{background:linear-gradient(180deg,rgba(255,255,255,.015),rgba(255,255,255,.01));border-radius:999px;padding:8px 12px;font-size:13px;color:var(--accent-1);border:1px solid rgba(6,182,212,.08);box-shadow:0 3px 12px rgba(14,165,233,.04);text-decoration:none;display:inline-block;transition:all .18s ease}
        .chip:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(14,165,233,.08)}

        .profile{background:linear-gradient(135deg,rgba(14,165,233,.04),rgba(6,182,212,.02));border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,.02);text-align:center}
        .avatar{width:120px;height:120px;border-radius:20px;margin:0 auto 12px;background:linear-gradient(135deg,var(--accent-2),var(--accent-1));display:flex;align-items:center;justify-content:center;font-weight:700;color:#001827;font-size:28px;box-shadow:0 10px 30px rgba(14,165,233,.12);overflow:hidden}
        .avatar img{width:100%;height:100%;object-fit:cover;display:block;border-radius:inherit}
        .profile h3{margin:8px 0 6px 0;color:var(--text)}
        .profile p{margin:0;color:var(--muted);font-size:14px}

        .btn{display:inline-block;padding:10px 16px;border-radius:10px;color:#001827;font-weight:700;background:linear-gradient(90deg,var(--accent-1),var(--accent-3));text-decoration:none;border:none;cursor:pointer;transition:transform .12s ease}
        .btn:hover{transform:translateY(-3px)}
        .btn:disabled{opacity: 0.6; cursor: not-allowed;}
        .btn-secondary{background:transparent;border-radius:10px;padding:10px 12px;color:var(--muted);text-decoration:none;font-weight:600;transition:all .18s ease}
        .btn-secondary:hover{color:var(--accent-1);transform:translateY(-2px)}

        .projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-bottom:36px}
        .card{background:var(--card);border-radius:12px;padding:14px;border:1px solid rgba(14,165,233,.04);transition:transform .18s ease,box-shadow .18s ease}
        .card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(14,165,233,.18)}
        .thumb{height:140px;border-radius:10px;background:linear-gradient(120deg,rgba(14,165,233,.12),rgba(6,182,212,.06));display:flex;align-items:center;justify-content:center;color:var(--accent-3);font-weight:700;margin-bottom:12px;border:1px dashed rgba(14,165,233,.04);font-size:24px}
        .card h4{margin:0 0 6px 0;color:var(--text)}
        .card p{margin:0;color:var(--muted);font-size:14px}
        .tech-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-bottom:36px}
        .tech-item{background:var(--card);border-radius:12px;padding:16px;border:1px solid rgba(14,165,233,.04);text-align:center;transition:all .18s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px}
        .tech-item:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(14,165,233,.12);border-color:rgba(14,165,233,.1)}
        .tech-icon{font-size:28px}
        .tech-item p{margin:0;color:var(--muted);font-size:13px;font-weight:600}
        .contact{background:linear-gradient(180deg,rgba(14,165,233,.02),transparent);padding:20px;border-radius:12px;border:1px solid rgba(14,165,233,.04);display:flex;gap:16px;align-items:center;justify-content:space-between;flex-wrap:wrap}
        .contact .left{max-width:70%}
        .contact strong{display:block;font-size:16px;color:var(--text)}
        .contact span{color:var(--muted)}
        .form-group{margin-bottom:16px}
        .form-group label{display:block;margin-bottom:8px;color:var(--text);font-weight:600;font-size:14px}
        .form-group input,.form-group textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(14,165,233,.1);background:rgba(255,255,255,.02);color:var(--text);font-family:inherit;font-size:14px;transition:all .18s ease}
        .form-group input:focus,.form-group textarea:focus{outline:0;border-color:rgba(14,165,233,.3);background:rgba(255,255,255,.04);box-shadow:0 0 0 3px rgba(14,165,233,.1)}
        .form-group textarea{resize:vertical;min-height:120px}
        footer{margin-top:36px;color:var(--muted);font-size:13px;text-align:center}
        .hidden{display:none !important}
        /* Estilos para los mensajes de estado */
        #status_message{padding: 12px; border-radius: 10px; font-size: 14px; font-weight: 600;}
        #status_message.success{background:linear-gradient(180deg,rgba(34,197,94,.1),rgba(34,197,94,.05));color:#86efac;border:1px solid rgba(34,197,94,.2)}
        #status_message.error{background:linear-gradient(180deg,rgba(239,68,68,.1),rgba(239,68,68,.05));color:#fca5a5;border:1px solid rgba(239,68,68,.2)}
        @media (max-width:880px){.hero{grid-template-columns:1fr}header{flex-direction:column;align-items:flex-start;gap:16px}.profile{order:2}.contact{flex-direction:column;align-items:flex-start}.contact .left{max-width:100%}}
        @media (max-width:640px){body{padding:20px 16px}.intro h1{font-size:24px}.projects{grid-template-columns:1fr}.tech-grid{grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}}
        @media (prefers-reduced-motion:reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}}
    </style>
</head>
<body>
    <div class="container">
        <!-- Encabezado -->
        <header>
            <a class="brand" href="#inicio">
                <div class="logo">G</div>
                <div>
                    <div style="font-weight: 700">Gabriel Gomez</div>
                    <div style="font-size: 13px; color: var(--muted)">Análisis de Sistemas</div>
                </div>
            </a>

            <nav aria-label="Navegación principal">
                <a class="navlink" href="#inicio">Inicio</a>
                <a class="navlink" href="#proyectos">Proyectos</a>
                <a class="navlink" href="#tecnologias">Tecnologías</a>
                <a class="navlink" href="#contacto">Contacto</a>
            </nav>
        </header>

        <!-- Sección Hero -->
        <section class="hero" id="inicio">
            <div class="intro">
                <h1>Hola, soy Gabriel Gomez</h1>
                <p class="lead">Analista de sistemas apasionado por crear soluciones web modernas y eficientes.</p>

                <div style="margin-top: 18px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <a class="btn" href="#proyectos">Ver proyectos</a>
                    <a class="btn-secondary" href="#contacto">Contactarme</a>
                </div>
            </div>

            <aside class="profile" aria-label="Tarjeta de perfil">
                <div class="avatar">
                    <!-- RUTA CORREGIDA: Ahora apunta a la ruta estática /static -->
                    <img src="/static/img1.jpeg" alt="Foto de perfil — Gabriel Gomez" onerror="this.style.display='none'">
                    <span style="display: none;"></span>
                </div>
                <h3>Gabriel Gomez</h3>
                <p>Desarrollador Backend · Python</p>
                <div style="margin-top: 12px; display: flex; gap: 8px; justify-content: center; flex-wrap: wrap;">
                    <a class="chip" href="https://github.com/Gab0-png" style="text-decoration: none" target="_blank">GitHub</a>
                    <a class="chip" href="https://www.linkedin.com/in/gabito-gomez-332b20390/" style="text-decoration: none" target="_blank">LinkedIn</a>
                </div>
            </aside>
        </section>

        <!-- Sección de Proyectos -->
        <section id="proyectos">
            <h2 style="margin: 0 0 14px 0; color: var(--text);">Proyectos destacados</h2>
            <div class="projects" role="list">
                <article class="card" role="listitem">
                    <div class="thumb"></div>
                    <h4>Portafolio Web</h4>
                    <p>Portafolio personal desarrollado con FastAPI y SMTP. Diseño responsive y moderno.</p>
                </article>

                <article class="card" role="listitem">
                    <div class="thumb"></div>
                    <h4>Aplicación Móvil</h4>
                    <p>Aplicación móvil desarrollada con React Native. Gestión de tareas y productividad.</p>
                </article>

                <article class="card" role="listitem">
                    <div class="thumb"></div>
                    <h4>Sistema de Base de Datos</h4>
                    <p>Sistema de gestión de base de datos con interfaz web. Optimizado para rendimiento.</p>
                </article>
            </div>
        </section>

        <!-- Sección de Tecnologías -->
        <section id="tecnologias" style="margin-top: 36px;">
            <h2 style="margin: 0 0 14px 0; color: var(--text);">Tecnologías</h2>
            <div class="tech-grid" role="list">
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>Python</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>FastAPI</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>HTML5</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>CSS3</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>JavaScript</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>Git</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>Docker</p>
                </div>
                <div class="tech-item" role="listitem">
                    <div class="tech-icon"></div>
                    <p>PostgreSQL</p>
                </div>
            </div>
        </section>

        <!-- Sección de Contacto -->
        <section id="contacto" style="margin-top: 36px;">
            <!-- Formulario de Contacto -->
            <div id="contacto-form" style="margin-top: 24px; background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), transparent); border-radius: var(--radius); padding: 28px; border: 1px solid rgba(14, 165, 233, 0.06);">
                <h3 style="margin: 0 0 20px 0; color: var(--text);">Contáctame</h3>
                <!-- NOTA: La acción es POST a /send_email -->
                <form id="contact_form" method="POST" action="/send_email">
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input type="text" id="nombre" name="nombre" placeholder="Tu nombre completo" required>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" placeholder="tu.email@ejemplo.com" required>
                    </div>

                    <div class="form-group">
                        <label for="mensaje">Mensaje</label>
                        <textarea id="mensaje" name="mensaje" placeholder="Escribe tu mensaje aquí..." required></textarea>
                    </div>

                    <!-- Mensaje de estado (se muestra/oculta con JS) -->
                    <div id="status_message" class="hidden" style="margin-bottom: 16px;"></div>

                    <!-- CORRECCIÓN: Usamos un botón de tipo submit, NO un enlace mailto -->
                    <button type="submit" id="submit_btn"
                        class="btn"
                        style="width: 100%; padding: 12px 16px; font-size: 16px; display: block; text-align: center;"
                    >
                        Enviar mensaje
                    </button>
                </form>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            &copy; <span id="year">2024</span> Gabriel Gomez — Portafolio Personal
        </footer>
    </div>

    <!-- Script de funcionalidad -->
    <script>
        // Año dinámico
        document.getElementById('year').textContent = new Date().getFullYear();

        const form = document.getElementById('contact_form');
        const statusMessage = document.getElementById('status_message');
        const submitButton = document.getElementById('submit_btn');

        // Función para mostrar mensajes de éxito/error
        function showStatus(isSuccess, message) {
            statusMessage.textContent = message;
            statusMessage.classList.remove('hidden', 'success', 'error');
            if (isSuccess) {
                statusMessage.classList.add('success');
            } else {
                statusMessage.classList.add('error');
            }
        }

        form.addEventListener('submit', async function(event) {
            // Evita el envío tradicional y la recarga de la página
            event.preventDefault(); 

            // Validar campos del formulario
            if (!form.checkValidity()) {
                form.reportValidity(); // Muestra los mensajes de error nativos del navegador
                return;
            }

            // Iniciar estado de carga
            submitButton.disabled = true;
            submitButton.textContent = 'Enviando...';
            statusMessage.classList.add('hidden'); // Ocultar mensaje anterior

            try {
                const formData = new FormData(form);

                // CRÍTICO: La ruta debe apuntar al endpoint de FastAPI
                const response = await fetch('/send_email', {
                    method: 'POST',
                    body: formData 
                });

                // Si la respuesta es exitosa (código 200), procesamos el JSON
                if (response.ok) {
                    const result = await response.json();
                    showStatus(true, result.message + ' 🎉');
                    form.reset(); // Limpiar campos
                } else {
                    // Si el servidor devuelve un error HTTP (ej. 404, 500)
                    const errorDetails = await response.json().catch(() => ({}));
                    const errorMessage = errorDetails.message || `Fallo al conectar con el servidor (HTTP ${response.status}). Revisa la consola.`;
                    showStatus(false, errorMessage);
                    console.error('SERVER ERROR:', response.status, errorDetails);
                }

            } catch (error) {
                // Maneja errores de red (ej. servidor no disponible)
                console.error('FETCH ERROR (Red):', error);
                showStatus(false, 'Ocurrió un error de red. Verifica tu conexión o el estado del servidor.');
            } finally {
                // Restablecer el botón
                submitButton.disabled = false;
                submitButton.textContent = 'Enviar mensaje';
            }
        });
    </script>
</body>
</html>
